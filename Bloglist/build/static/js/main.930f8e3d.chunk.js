(this["webpackJsonpbloglist-frontend"]=this["webpackJsonpbloglist-frontend"]||[]).push([[0],{158:function(e,t,n){},159:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(37),c=n.n(a),s=n(8),i=n.n(s),o=n(15),u=n(27),l=n(17),j=n(7),b=n(30),d=n(25),f=n(36),O=n.n(f),h="/api/blogs",p=null,x={getAll:function(){return O.a.get(h).then((function(e){return e.data}))},setToken:function(e){p="bearer ".concat(e)},create:function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:p}},e.next=3,O.a.post(h,t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.put(h+"/".concat(n),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:p}},e.next=3,O.a.delete(h+"/".concat(t),n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),comment:function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:p}},e.next=3,O.a.post(h+"/".concat(n,"/comments"),t,r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},v=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(r){var a,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={comment:e},n.next=3,x.comment(a,t);case 3:c=n.sent,r({type:"ADD_COMMENT",comment:{id:c.id,comment:c.comment,image:c.image,user:c.user,username:c.username},id:t});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},m=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(r){var a,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.create(e);case 2:a=n.sent,c=Object(u.a)(Object(u.a)({},a),{},{user:{name:t.name}}),r({type:"ADD_BLOGS",blog:c});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,t.next=3,x.update(e,r);case 3:a=t.sent,n({type:"LIKE_BLOG",user:e.user,data:a,id:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.remove(e);case 2:n({type:"REMOVE_BLOG",id:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_BLOGS":return t.blogs;case"ADD_BLOGS":return[].concat(Object(o.a)(e),[t.blog]);case"LIKE_BLOG":var n=e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},t.data),{},{user:Object(u.a)({},t.user)}):e}));return n;case"REMOVE_BLOG":var r=e.filter((function(e){return e.id!==t.id}));return r;case"ADD_COMMENT":var a=e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{comments:[].concat(Object(o.a)(e.comments),[t.comment])}):e}));return a;default:return e}},k=n(207),S=n(208),z=n(209),A=n(210),I=n(205),C=n(211),N=n(201),L=n(206),D=n(111),B=n.n(D),E=n(90),U=n.n(E),G=n(88),T=n.n(G),_=n(1),M=function(e){var t=e.blog,n=Object(r.useState)(!1),a=Object(j.a)(n,2),c=a[0],s=a[1],o=Object(b.b)(),f=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c?-1:1,r=Object(u.a)(Object(u.a)({},t),{},{likes:t.likes+n}),o(g(r)),s(!c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(k.a,{children:[Object(_.jsx)(S.a,{sx:{fontSize:"17px",p:3.3},children:Object(_.jsx)(d.b,{to:"/blogs/".concat(t.id),style:{textDecoration:"none"},children:t.title})}),Object(_.jsx)(S.a,{sx:{fontSize:"17px"},children:t.author}),Object(_.jsxs)(S.a,{sx:{fontSize:"17px"},children:[t.likes,Object(_.jsx)(z.a,{variant:"contained",size:"medium",color:"primary",id:"like",onClick:function(){return f(t)},children:c?Object(_.jsx)(T.a,{fontSize:"inherit",color:"error"}):Object(_.jsx)(U.a,{fontSize:"inherit"})})]})]})},F=function(e){var t=e.blog,n=e.addLike,a=e.removeBlog,c=e.user,s=Object(r.useState)(!1),o=Object(j.a)(s,2),f=o[0],O=o[1],h=Object(r.useState)(""),p=Object(j.a)(h,2),x=p[0],m=p[1],g=Object(r.useState)(!1),w=Object(j.a)(g,2),y=w[0],k=w[1],S=Object(b.b)(),D=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure to remove ".concat(t.title," by ").concat(t.author,"?"))){e.next=4;break}return e.next=4,a(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f?-1:1,a=Object(u.a)(Object(u.a)({},t),{},{likes:t.likes+r}),e.next=4,n(a);case 4:O(!f);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),S(v(x,t.id)),m("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(!t)return null;var M=t?t.comments.slice().reverse():null,F=y?M:M.slice(0,3);return Object(_.jsxs)("div",{className:"blog",children:[Object(_.jsx)(C.a,{elevation:2,children:function(){var e,n;return Object(_.jsxs)("div",{className:"detail",children:[Object(_.jsx)(A.a,{variant:"h5",fontWeight:"bold",children:t.title}),Object(_.jsxs)(A.a,{variant:"h6",children:["by ",t.author]}),Object(_.jsx)(A.a,{variant:"h6",children:Object(_.jsx)("a",{href:t.url,children:t.url})}),Object(_.jsxs)(A.a,{variant:"body1",children:[t.likes," upvotes",Object(_.jsx)(z.a,{variant:"contained",size:"medium",color:"primary",id:"like",onClick:function(){return E(t)},children:f?Object(_.jsx)(T.a,{fontSize:"inherit",color:"error"}):Object(_.jsx)(U.a,{fontSize:"inherit"})})]}),Object(_.jsxs)(A.a,{variant:"body1",children:["added by ",null===(e=t.user)||void 0===e?void 0:e.name]}),Object(_.jsx)("br",{}),(null===c||void 0===c?void 0:c.name)===(null===(n=t.user)||void 0===n?void 0:n.name)&&Object(_.jsx)(I.a,{variant:"contained",size:"small",color:"error",onClick:Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"remove"})]})}()}),Object(_.jsx)(A.a,{variant:"h6",children:"Comments"}),Object(_.jsxs)("form",{onSubmit:G,children:[Object(_.jsx)(N.a,{variant:"filled",placeholder:"share your thought",sx:{width:"100ch"},multiline:!0,rows:2,value:x,onChange:function(e){return m(e.target.value)}}),Object(_.jsx)(I.a,{startIcon:Object(_.jsx)(B.a,{}),size:"medium",sx:{height:"6ch"},variant:"contained",type:"submit",children:"add"})]}),Object(_.jsx)("ul",{className:"comments",children:F.map((function(e){return Object(_.jsxs)("li",{children:[Object(_.jsx)("img",{src:e.image,className:"avatar"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{children:Object(_.jsx)(d.b,{to:"/users/".concat(e.user),id:"img-comment",children:Object(_.jsx)("strong",{children:e.username})})}),Object(_.jsx)(A.a,{variant:"body1",children:e.comment})]})]},e.id)}))}),t.comments.length>5&&Object(_.jsx)(L.a,{container:!0,justify:"center",children:Object(_.jsx)(I.a,{size:"small",variant:"contained",onClick:function(){return k(!y)},sx:{mx:"auto",width:200},children:y?"show less":"show all"})})]})},R="/api/users",W={getUsers:function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(R);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addUser:function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post(R,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=function(e){var t=e.showAlert;return null===t.notification?null:Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("h1",{className:"danger"===t.state?"danger":"safe",children:t.notification})})},K=n(112),Q=n.n(K),V=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(j.a)(n,2),c=a[0],s=a[1],i={display:c?"":"none"},o={display:c?"none":""};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{style:o,children:Object(_.jsx)(I.a,{variant:"contained",startIcon:Object(_.jsx)(Q.a,{}),onClick:function(){return s(!c)},children:"create new blog"})}),Object(_.jsxs)("div",{style:i,children:[t,Object(_.jsx)(I.a,{variant:"text",sx:{ml:10},onClick:function(){return s(!c)},children:"cancel"})]})]})},H=n(212),q=function(e){var t=e.createBlog,n=Object(r.useState)(""),a=Object(j.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),u=Object(j.a)(o,2),b=u[0],d=u[1],f=Object(r.useState)(""),O=Object(j.a)(f,2),h=O[0],p=O[1],x=function(){var e=Object(l.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={title:c,author:b,url:h,likes:Math.floor(100*Math.random())},s(""),d(""),p(""),e.next=7,t(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("form",{onSubmit:x,children:[Object(_.jsx)(H.a,{sx:{display:"flex",flexWrap:"wrap","& > :not(style)":{m:1,width:300,height:200}},children:Object(_.jsx)(L.a,{container:!0,justify:"center",children:Object(_.jsxs)(C.a,{sx:{p:3},elevation:2,children:[Object(_.jsxs)("div",{children:[Object(_.jsx)(A.a,{variant:"h6",style:{marginLeft:"65px"},children:"Create"}),Object(_.jsx)(N.a,{variant:"standard",label:"title",type:"text",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(_.jsx)("div",{children:Object(_.jsx)(N.a,{variant:"standard",label:"author",type:"text",value:b,onChange:function(e){return d(e.target.value)}})}),Object(_.jsx)("div",{children:Object(_.jsx)(N.a,{variant:"standard",label:"url",type:"text",value:h,onChange:function(e){return p(e.target.value)}})})]})})}),Object(_.jsx)(I.a,{variant:"contained",sx:{mt:1,ml:10},type:"submit",children:"Create"})]})})},P=n(213),X=n(214),Y=n(215),Z=n(216),$=n(203),ee=function(e){var t=e.name,n=e.blogs,r=e.id,a=n.length;return Object(_.jsxs)(k.a,{children:[Object(_.jsx)(S.a,{sx:{fontSize:"17px",p:3.3},children:Object(_.jsx)(d.b,{to:"/users/".concat(r),style:{textDecoration:"none"},children:t})}),Object(_.jsx)(S.a,{children:a})]})},te=function(e){var t=e.users,n=Object(r.useState)(1),a=Object(j.a)(n,2),c=a[0],s=a[1],i=t.slice(5*(c-1),5*c),o=Math.ceil(t.length/5);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(A.a,{variant:"h5",children:"Users"}),Object(_.jsx)(P.a,{component:C.a,children:Object(_.jsxs)(X.a,{children:[Object(_.jsx)(Y.a,{children:Object(_.jsxs)(k.a,{children:[Object(_.jsx)(S.a,{sx:{fontSize:"17px",p:3.3}}),Object(_.jsx)(S.a,{children:Object(_.jsx)("strong",{children:"blog created"})})]})}),Object(_.jsx)(Z.a,{children:i.map((function(e){return Object(_.jsx)(ee,{id:e.id,name:e.name,blogs:e.blogs},e.id)}))})]})}),Object(_.jsx)($.a,{count:o,page:c,onChange:function(e,t){s(t)},size:"large"})]})},ne=n(217),re=n(218),ae=n(219),ce=function(e){var t=e.user;return console.log(t),t?Object(_.jsx)("div",{className:"user-detail",children:Object(_.jsxs)(ne.a,{sx:{width:700,maxWidth:900},children:[Object(_.jsx)(re.a,{component:"img",alt:"okkk",height:"240",image:t.image}),Object(_.jsxs)(ae.a,{children:[Object(_.jsx)(A.a,{gutterBottom:!0,variant:"h5",component:"div",fontWeight:"bold",sx:{textAlign:"center"},children:t.name}),Object(_.jsx)(A.a,{variant:"h6",children:"Added blogs"}),Object(_.jsx)("ul",{children:t.blogs.map((function(e){return Object(_.jsx)("li",{children:Object(_.jsx)(A.a,{variant:"body1",sx:{mb:4},component:d.b,to:"/blogs/".concat(e.id),children:e.title})},e.title)}))})]})]})}):null},se={notification:null,state:"safe"},ie=function(e,t){return function(n){n({type:"DANGER",state:"danger",message:e}),setTimeout((function(){n(ue())}),1e3*t)}},oe=function(e,t){return function(n){n({type:"SAFE",state:"safe",message:e}),setTimeout((function(){n(ue())}),1e3*t)}},ue=function(){return{type:"NULL",state:"safe"}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DANGER":case"SAFE":return{notification:t.message,state:t.state};case"NULL":return{notification:null,state:t.state};default:return e}},je={login:function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},be=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.login(e);case 2:r=t.sent,localStorage.setItem("blogUser",JSON.stringify(r)),n({type:"LOGIN",user:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USER":case"LOGIN":return t.user;case"LOGOUT":return null;default:return e}},fe=n(113),Oe=n.n(fe),he=n(74);n(160);he.a.initializeApp({apiKey:"AIzaSyAuDi5xoFjZr3c1sQQxIvqNWxypdyMBDOY",authDomain:"fir-react-upload-1f038.firebaseapp.com",projectId:"fir-react-upload-1f038",storageBucket:"fir-react-upload-1f038.appspot.com",messagingSenderId:"571527284225",appId:"1:571527284225:web:bd60579da428ff8a8b6200",measurementId:"G-QRDF4HFK0V"});var pe=he.a.storage(),xe=function(e){var t=e.addUser,n=Object(r.useState)(""),a=Object(j.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),u=Object(j.a)(o,2),d=u[0],f=u[1],O=Object(r.useState)(""),h=Object(j.a)(O,2),p=h[0],x=h[1],v=Object(r.useState)(null),m=Object(j.a)(v,2),g=m[0],w=m[1],y=Object(b.b)();function k(e){return!!e&&new Promise((function(t,n){pe.ref("images/".concat(e.name)).put(e).on("state_changed",(function(e){}),(function(e){n(e)}),Object(l.a)(i.a.mark((function n(){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pe.ref("images").child(e.name).getDownloadURL();case 2:(r=n.sent)&&t(r);case 4:case"end":return n.stop()}}),n)}))))}))}function S(){return(S=Object(l.a)(i.a.mark((function e(n){var r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,k(g);case 3:return r=e.sent,a={name:c,username:d,image:r,passwordHash:p},e.next=7,W.addUser(a);case 7:(s=e.sent)&&(t(s),y(be({username:d,password:p})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(_.jsx)("div",{className:"center",children:Object(_.jsxs)("form",{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(_.jsx)(A.a,{variant:"h5",children:"Register"}),Object(_.jsx)("div",{children:Object(_.jsx)(N.a,{label:"name",variant:"standard",size:"small",type:"text",value:c,onChange:function(e){var t=e.target;return s(t.value)}})}),Object(_.jsx)("div",{children:Object(_.jsx)(N.a,{label:"username",variant:"standard",size:"small",type:"text",value:d,onChange:function(e){var t=e.target;return f(t.value)}})}),Object(_.jsxs)("div",{children:[Object(_.jsx)(N.a,{label:"password",variant:"standard",size:"small",type:"password",value:p,onChange:function(e){var t=e.target;return x(t.value)}}),Object(_.jsx)("div",{children:Object(_.jsxs)(I.a,{startIcon:Object(_.jsx)(Oe.a,{}),variant:"contained",component:"label",sx:{mb:2,mt:2},color:"info",children:[g?"done":"Upload avatar",Object(_.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){e.target.files[0]&&w(e.target.files[0])}})]})})]}),Object(_.jsx)(I.a,{variant:"contained",id:"login",type:"submit",children:"NEXT"})]})})},ve=n(220),me=n(221),ge=n(18),we=n(114),ye=n.n(we),ke=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(j.a)(c,2),o=s[0],u=s[1],f=Object(b.b)(),O=function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={username:n,password:o},e.prev=2,e.next=5,f(be(r));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),f(ie("wrong password or username",3));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{className:"center",children:Object(_.jsxs)("form",{onSubmit:O,children:[Object(_.jsx)(A.a,{variant:"h5",component:"div",gutterBottom:!0,children:"log in to bloglist"}),Object(_.jsx)("div",{children:Object(_.jsx)(N.a,{label:"username",variant:"standard",size:"small",type:"text",value:n,onChange:function(e){var t=e.target;return a(t.value)}})}),Object(_.jsx)("div",{children:Object(_.jsx)(N.a,{label:"password",variant:"standard",size:"small",helperText:"",type:"password",value:o,onChange:function(e){var t=e.target;return u(t.value)}})}),Object(_.jsxs)(H.a,{sx:{mt:3,pl:2},children:[Object(_.jsx)(I.a,{type:"submit",variant:"contained",id:"login",children:"login"}),Object(_.jsx)(I.a,{component:d.b,to:"register",children:"Register"})]})]})})},Se=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(j.a)(c,2),f=s[0],O=s[1],h=Object(r.useState)(""),p=Object(j.a)(h,2),v=p[0],y=p[1],k=Object(r.useState)([]),S=Object(j.a)(k,2),z=S[0],N=S[1],L=Object(r.useState)(1),D=Object(j.a)(L,2),B=D[0],E=D[1],U=Object(b.b)(),G=Object(b.c)((function(e){return e.showAlert})),T=Object(b.c)((function(e){return e.blogs})),R=Object(b.c)((function(e){return e.user}));R&&x.setToken(R.token);var K=T.slice().sort((function(e,t){return t.likes-e.likes})).slice(5*(B-1),5*B),Q=Math.ceil(T.length/5);Object(r.useEffect)((function(){U(function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getAll();case 2:n=e.sent,t({type:"INIT_BLOGS",blogs:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(r.useEffect)((function(){U((function(e){var t=localStorage.getItem("blogUser");t&&e({type:"INIT_USER",user:JSON.parse(t)})}))}),[]),Object(r.useEffect)((function(){W.getUsers().then((function(e){N(e)}))}),[]);var Y=Object(ge.g)("/blogs/:id"),ee=Object(ge.g)("/users/:id"),ne=ee?z.find((function(e){return e.id===ee.params.id})):null,re=Y?T.find((function(e){return e.id===Y.params.id})):null,ae=function(e,t){E(t)},se=function(){U({type:"LOGOUT"}),localStorage.removeItem("blogUser")},ie=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(m(t,R)),U(oe("a new blog ".concat(t.title),2)),n=z.map((function(e){return e.username===R.username?Object(u.a)(Object(u.a)({},e),{},{blogs:[].concat(Object(o.a)(e.blogs),[t])}):e})),N(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(g(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.id,U(w(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(H.a,{sx:{flexGrow:1},children:Object(_.jsx)(ve.a,{position:"static",children:Object(_.jsxs)(me.a,{children:[Object(_.jsx)(ye.a,{}),Object(_.jsx)(A.a,{variant:"h5",component:"div",sx:{flexGrow:1},children:"BlogList"}),Object(_.jsx)(I.a,{color:"inherit",component:d.b,to:"/",children:"blogs"}),Object(_.jsx)(I.a,{color:"inherit",component:d.b,to:"/users",children:"users"}),R?Object(_.jsxs)("div",{children:[Object(_.jsxs)("span",{style:{color:"yellow"},children:[R.name," logged in"]}),Object(_.jsx)(I.a,{color:"inherit",component:d.b,to:"/",onClick:se,children:"logout"})]}):Object(_.jsx)(I.a,{color:"inherit",component:d.b,to:"/register",children:"register"})]})})}),Object(_.jsx)("br",{}),Object(_.jsx)(J,{showAlert:G}),Object(_.jsx)("div",{style:{margin:"20px"},children:Object(_.jsxs)(ge.d,{children:[Object(_.jsx)(ge.b,{path:"blogs/:id",element:re?Object(_.jsx)(F,{blog:re,addLike:ue,removeBlog:le,user:R}):Object(_.jsx)(ge.a,{to:"/"})}),Object(_.jsx)(ge.b,{path:"users/:id",element:Object(_.jsx)(ce,{user:ne})}),Object(_.jsx)(ge.b,{path:"users",element:Object(_.jsx)(te,{users:z})}),Object(_.jsx)(ge.b,{path:"/",element:null!==R?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(A.a,{variant:"h4",sx:{textAlign:"center"},children:"Blogs"}),Object(_.jsx)(V,{children:Object(_.jsx)(q,{createBlog:ie,title:n,author:f,url:v,handleTitle:function(e){return a(e.target.value)},handleAuthor:function(e){return O(e.target.value)},handleUrl:function(e){return y(e.target.value)}})}),Object(_.jsx)(P.a,{component:C.a,elevation:2,children:Object(_.jsx)(X.a,{children:Object(_.jsx)(Z.a,{children:K.map((function(e){return Object(_.jsx)(M,{blog:e},e.id)}))})})}),Object(_.jsx)($.a,{count:Q,page:B,onChange:ae,size:"large"})]}):Object(_.jsx)(ke,{})}),Object(_.jsx)(ge.b,{path:"register",element:R?Object(_.jsx)(ge.a,{to:"/"}):Object(_.jsx)(xe,{addUser:function(e){return N(z.concat(e))}})})]})})]})},ze=(n(158),n(68)),Ae=n(115),Ie=n(116),Ce=Object(ze.combineReducers)({showAlert:le,blogs:y,user:de}),Ne=Object(ze.createStore)(Ce,Object(Ae.composeWithDevTools)(Object(ze.applyMiddleware)(Ie.a)));console.log(Ne.getState()),c.a.render(Object(_.jsx)(d.a,{children:Object(_.jsx)(b.a,{store:Ne,children:Object(_.jsx)(Se,{})})}),document.getElementById("root"))}},[[159,1,2]]]);
//# sourceMappingURL=main.930f8e3d.chunk.js.map